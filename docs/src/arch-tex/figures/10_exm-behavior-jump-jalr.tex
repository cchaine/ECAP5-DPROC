\makeatletter\gdef\dividers{}
\begin{tikztimingtable}[%
    scale=0.7,
    timing/dslope=0.1,
    timing/.style={x=6ex,y=3ex},
    x=6ex,
    timing/rowdist=4ex,
    timing/name/.style={font=\footnotesize},
    timing/u/background/.style={fill=gray!20},
    timing/e/background/.style={fill=gray!20},
]
clk\_i & H 2{C C} L \\
& \divider{Stage inputs} \\
input\_ready\_o    & 2E 2H 2E \\
input\_valid\_o    & 2E 2H 2E \\
pc\_i[31:0]        & 2U 2D{}  2U \\
param1\_i[31:0]    & 2U 2D{}  2U \\
param2\_i[31:0]    & 2U 2D{}  2U \\
result\_addr\_i[4:0] & 2U 2D{} 2U \\
& \divider{Stage outputs} \\
output\_ready\_i   & 2E 2H 2E \\
output\_valid\_o   & 2.5E 2H 1.5E \\
branch\_o          & 2.5E 2H 1.5E \\
boffset\_o[19:0]   & 2.5U 2D{\textit{offset[19:0]}} 1.5U \\
result\_write\_o      & 2.5E 2H 1.5E\\
result\_addr\_o[4:0] & 2.5U 2D{result\_addr\_i} 1.5U \\
result\_data\_o[31:0] & 2.5U 2D{pc\_i + 4} 1.5U \\
\extracode
% grid
\begin{pgfonlayer}{background}
\begin{scope}[semitransparent ,semithick]
\vertlines[darkgray,dotted]{2, 4}
\dividers
\end{scope}
\end{pgfonlayer}
\end{tikztimingtable}
\begin{center}
    \scriptsize \textit{offset[19:0] : (param1\_i[31:0] + param2\_i[31:0])[19:0]}
\end{center}