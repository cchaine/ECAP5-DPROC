\makeatletter\gdef\dividers{}
\begin{tikztimingtable}[%
    scale=0.7,
    timing/dslope=0.1,
    timing/.style={x=6ex,y=3ex},
    x=6ex,
    timing/rowdist=4ex,
    timing/name/.style={font=\footnotesize},
    timing/u/background/.style={fill=gray!20},
    timing/e/background/.style={fill=gray!20},
]
clk\_i & H 3{C C} L \\
& \divider{Stage inputs} \\
input\_ready\_o            & 2E 2L 2H 2E \\
input\_valid\_i            & 2E 2H 2H 2E \\
param1\_i                  & 2U 4D{}  2U \\
& \divider{Memory access} \\
wb\_clk\_i       & H 3{C C} L \\
wb\_adr\_o[31:0] & 2.5U 4D{param1\_i}  1.5U \\
wb\_dat\_o[31:0] & 2.5U 2U 2D{param2\_i}               1.5U \\
wb\_we\_o        & 2.5E 2H 2H                 1.5E \\
wb\_sel\_o[3:0]  & 2.5U 4D{\textit{sel[3:0]}}                 1.5U \\
wb\_stb\_o       & 2.5E 4H                    1.5E \\
wb\_ack\_i       & 2.5E 2L 2H                 1.5E \\
& \divider{Stage outputs} \\
output\_ready\_i   & 2E 4H 2E \\
output\_valid\_o            & 2.5E 2L 2H 1.5E \\
result\_write\_o    & 2.5E 2L 2L  1.5E\\
\extracode
% grid
\begin{pgfonlayer}{background}
\begin{scope}[semitransparent ,semithick]
\vertlines[darkgray,dotted]{2, 4, 6}
\dividers
\end{scope}
\end{pgfonlayer}
\end{tikztimingtable}
